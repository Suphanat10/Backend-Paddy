# üåæ Backend Paddy Project

‡∏£‡∏∞‡∏ö‡∏ö Backend ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ü‡∏≤‡∏£‡πå‡∏° ‡πÅ‡∏õ‡∏•‡∏á‡∏ô‡∏≤ ‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô ‡πÅ‡∏•‡∏∞‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå IoT\
‡πÉ‡∏ä‡πâ Docker Compose ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏£‡∏±‡∏ô Node.js Backend + MySQL + phpMyAdmin
‡πÑ‡∏î‡πâ‡πÉ‡∏ô‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á‡πÄ‡∏î‡∏µ‡∏¢‡∏ß

------------------------------------------------------------------------

## üöÄ ‡∏Ñ‡∏∏‡∏ì‡∏™‡∏°‡∏ö‡∏±‡∏ï‡∏¥‡∏Ç‡∏≠‡∏á‡∏£‡∏∞‡∏ö‡∏ö

-   Backend ‡∏û‡∏±‡∏í‡∏ô‡∏≤‡πÇ‡∏î‡∏¢ **Node.js**
-   ‡∏ê‡∏≤‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏´‡∏•‡∏±‡∏Å‡πÉ‡∏ä‡πâ **MySQL 8.0**
-   ‡∏°‡∏µ‡πÄ‡∏ß‡πá‡∏ö‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏ê‡∏≤‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ú‡πà‡∏≤‡∏ô **phpMyAdmin**
-   ‡∏£‡∏±‡∏ô‡∏ó‡∏∏‡∏Å‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏ú‡πà‡∏≤‡∏ô Docker Compose
-   ‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏£‡∏∞‡∏ö‡∏ö Smart Farming / IoT

------------------------------------------------------------------------

## üìÅ ‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Ñ

    Backend-Paddy/
    ‚îÇ‚îÄ‚îÄ app/                         # Source code backend
    ‚îÇ‚îÄ‚îÄ server.js                    # ‡∏à‡∏∏‡∏î‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô Server
    ‚îÇ‚îÄ‚îÄ Dockerfile                   # ‡πÉ‡∏ä‡πâ build Node.js image
    ‚îÇ‚îÄ‚îÄ docker-compose.yml           # ‡∏£‡∏±‡∏ô node + mysql + phpmyadmin
    ‚îÇ‚îÄ‚îÄ package.json
    ‚îÇ‚îÄ‚îÄ package-lock.json
    ‚îÇ‚îÄ‚îÄ README.md

------------------------------------------------------------------------

## üê≥ ‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏ú‡πà‡∏≤‡∏ô Docker

### ‚ñ∂Ô∏è ‡∏£‡∏±‡∏ô‡∏£‡∏∞‡∏ö‡∏ö

``` bash
docker-compose up -d --build
```

‡∏à‡∏∞‡πÑ‡∏î‡πâ 3 services:

  Service           URL
  ----------------- -----------------------
  Node.js Backend   http://localhost:8000
  phpMyAdmin        http://localhost:8080
  MySQL             ‡πÉ‡∏ä‡πâ‡∏†‡∏≤‡∏¢‡πÉ‡∏ô Docker

------------------------------------------------------------------------

## üîå ‡∏Å‡∏≤‡∏£‡πÄ‡∏Ç‡πâ‡∏≤‡∏ñ‡∏∂‡∏á‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£‡∏ï‡πà‡∏≤‡∏á ‡πÜ

### ‚úî Backend API

    http://localhost:8000

### ‚úî phpMyAdmin

    http://localhost:8080

Login:

-   Username: root\
-   Password: root\
-   Host: db

------------------------------------------------------------------------

## üóÑ ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• MySQL

-   Hostname: `db`
-   Port ‡∏†‡∏≤‡∏¢‡πÉ‡∏ô container: `3306`
-   Port ‡∏ö‡∏ô‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á host: `3307`
-   Username: `root`
-   Password: `root`

------------------------------------------------------------------------

## ‚öô Commands ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ô‡∏±‡∏Å‡∏û‡∏±‡∏í‡∏ô‡∏≤

### ‡∏î‡∏π log ‡∏Ç‡∏≠‡∏á Node Server

``` bash
docker logs node-server -f
```

### ‡∏î‡∏π log ‡∏Ç‡∏≠‡∏á MySQL

``` bash
docker logs db
```

### ‡∏£‡∏µ‡∏™‡∏ï‡∏≤‡∏£‡πå‡∏ó service

``` bash
docker-compose restart
```

### ‡∏õ‡∏¥‡∏î‡∏ó‡∏∏‡∏Å container

``` bash
docker-compose down
```

------------------------------------------------------------------------

## üßØ ‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏ó‡∏µ‡πà‡∏û‡∏ö‡∏ö‡πà‡∏≠‡∏¢

### ‚ùó phpMyAdmin ‡∏Ç‡∏∂‡πâ‡∏ô‡∏ß‡πà‡∏≤ Connection refused

-   ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤ container `db` ‡∏£‡∏±‡∏ô‡∏≠‡∏¢‡∏π‡πà
-   ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤‡∏°‡∏µ `MYSQL_ROOT_HOST=%` ‡πÉ‡∏ô compose

### ‚ùó Port 3306 ‡∏ñ‡∏π‡∏Å‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô

‡∏õ‡∏£‡∏±‡∏ö‡πÄ‡∏õ‡πá‡∏ô:

    3307:3306

### ‚ùó MySQL crash ‡πÄ‡∏û‡∏£‡∏≤‡∏∞ downgrade

‡∏•‡∏ö volume ‡πÄ‡∏î‡∏¥‡∏°:

``` bash
docker volume rm backend-paddy_mysql_data_test
```

------------------------------------------------------------------------

## ‚ú® ‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°

‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Ñ‡∏ô‡∏µ‡πâ‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏á‡∏≤‡∏ô‡∏ß‡∏¥‡∏à‡∏±‡∏¢, ‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Ñ‡∏°‡∏´‡∏≤‡∏ß‡∏¥‡∏ó‡∏¢‡∏≤‡∏•‡∏±‡∏¢, ‡∏£‡∏∞‡∏ö‡∏ö Smart Farm ‡πÅ‡∏•‡∏∞ IoT
‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î\
‡∏ñ‡πâ‡∏≤‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÑ‡∏ü‡∏•‡πå ER Diagram, Prisma Schema, API Docs
‡∏´‡∏£‡∏∑‡∏≠‡∏Ñ‡∏π‡πà‡∏°‡∏∑‡∏≠‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏° ‡πÅ‡∏à‡πâ‡∏á‡πÑ‡∏î‡πâ‡πÄ‡∏•‡∏¢‡∏Ñ‡∏£‡∏±‡∏ö ‚ù§Ô∏è
